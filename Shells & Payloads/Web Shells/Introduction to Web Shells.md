É quase garantido que nos depararemos com servidores da Web em nosso tempo aprendendo e participando ativamente da prática de pentesting. Muitos dos serviços de software do mundo estão migrando para plataformas baseadas na Web acessíveis em toda a Internet usando um navegador da web e HTTP / S. Basta considerar o site em que estamos agora. Está inteiramente no navegador, acessível de qualquer lugar do mundo usando qualquer dispositivo conectado à Internet. Meios de entretenimento modernos, como `video games`, `music`, e `video streaming` são acessíveis através de navegadores e aplicativos. Isso significa que nos encontraremos direcionando cada vez mais aplicativos da Web com o passar do tempo.

Além disso, durante os testes de penetração externa, geralmente descobrimos que as redes de perímetro dos clientes são bem endurecidas. Eles não expõem serviços vulneráveis, como SMB ou outros elementos que costumávamos encontrar com frequência. Esses elementos que agora antecipamos principalmente durante um teste de penetração interna. Durante nossos testes de penetração externa, geralmente "entramos" ( obtemos uma posição dentro da rede interna ) por meio de ataques a aplicativos da Web ( ataques de upload de arquivos, injeção de SQL, RFI / LFI, injeção de comando, etc. ), pulverização de senha ( contra RDS, portais VPN, Citrix, OWA e outros aplicativos usando autenticação do Active Directory ) e engenharia social.

Os aplicativos da Web costumam ser a maioria do que vemos expostos durante uma avaliação de rede externa e geralmente apresentam uma enorme superfície de ataque. Podemos encontrar formulários de upload de arquivos disponíveis ao público que permitem o upload direto de um shell da web PHP, JSP ou ASP.NET. Algumas funcionalidades durante o teste autenticado podem estar presentes ou, nosso favorito pessoal, uma funcionalidade de auto-registro em que podemos entrar e fazer upload de um shell da Web ( depois de ignorar as verificações do lado do cliente ) na área de upload de fotos do perfil do usuário. Também podemos encontrar aplicativos como Tomcat, Axis2 ou WebLogic, que permitem implantar o código JSP por meio de um arquivo WAR como parte de sua funcionalidade. Podemos até encontrar um serviço FTP mal configurado que permita o upload de arquivos diretamente na webroot do servidor.Existem muitas outras maneiras pelas quais podemos encontrar o upload de um shell da Web que está fora do escopo deste módulo. O que vem a seguir depois que identificamos uma vulnerabilidade de upload irrestrita ou uma configuração incorreta?

## O que é um Web Shell?

A `web shell` é uma sessão de shell baseada em navegador que podemos usar para interagir com o sistema operacional subjacente de um servidor da web. Novamente, para obter a execução remota de código via shell da web, precisamos primeiro encontrar uma vulnerabilidade de site ou aplicativo da web que possa nos fornecer recursos de upload de arquivos. A maioria dos shells da web é obtida com o upload de uma carga útil escrita em uma linguagem da Web no servidor de destino. A carga útil ( s ) que carregamos deve nos fornecer um recurso de execução remota de código no navegador. As seções e desafios do processo serão focados principalmente na execução de comandos através de nossos shells da web no navegador. Ainda assim, é essencial saber que confiar apenas no shell da Web para interagir com o sistema pode ser instável e não confiável, porque alguns aplicativos da Web são configurados para excluir uploads de arquivos após um determinado período de tempo. Para alcançar a persistência em um sistema,em muitos casos, essa é a maneira inicial de obter a execução remota de código por meio de um aplicativo da Web, que podemos usar para atualizar posteriormente para um shell reverso mais interativo.